variables:
  PYTHON_PACKAGE: "certitude"

include:
  - project: "notno/ci-templates"
    file: "templates/python-docker.yml"
    ref: 'v4.0.0-beta.8'

grype:
  allow_failure: true

python:pylint:
  variables:
    PYLINT_THRESHOLD: "7"

python:mypy:
  allow_failure: true

certitude:train:
  stage: test
  script:
    - python -m certitude --train /tmp/newmodel.joblib -d tests/data/testset_labeled.csv

certitude:url:
  stage: test
  script:
    - python -m certitude --url https://www.tno.nl/en/about-tno/ --model certitude/utils/data/default_model.pkl
    - python -m certitude --url https://www.sjfkhadsfsdaklfdjsfhas.com/phi --model certitude/utils/data/default_model.pkl
